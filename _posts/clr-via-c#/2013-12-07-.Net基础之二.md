---
layout: post
category : lessons
tagline: "程序集(Assembly)"
tags : [.Net, C#, CLR]
---

{% include JB/setup %}

##### 基本概念
上一篇文章提到面向CLR的编译器在编译期间将源代码编译成托管模块(`Managed Module`),然后在应用程序运行期间CLR会调用运行时编译器根据托管模块信息生成可以直接运行于CPU之上的本地代码(`JIT`)。而事实上，直接和CLR协同工作的并不是托管模块，而是程序集(`Assembly`)。



根据MSDN的解释，程序集构成了基于 .NET 的应用程序的部署、版本控制、重用、激活范围和安全权限的基本单元。程序集以可执行 (.exe) 文件或动态链接库 (.dll) 文件的形式出现，是 .NET Framework 的生成块。它们向公共语言运行库提供了解类型实现所需要的信息。可以将程序集看成是构成逻辑功能单元并为一起工作而生成的类型和资源的集合。[MSDN]

程序集是一个比较抽象的概念。概括起来，主要有以下两个特点：		

+ 程序集是一组托管模块或者资源文件的集合。
+ 程序集是重用、版本控制和安全控制的最小单元。 


###### 将类型生成到模块中
以一段简单的代码为例，看看如果将源代码生成为一个可部署的文件。

    namespace Assembly_1209
    {
    	class Program
    	{
    		static void Main(string[] args)
    		{
    			System.Console.WriteLine("Hello World!");
    		}
    	}
    }


这段代码定义了一个`Program`类型，其中有一个名为`Main`的static方法。`Main`中引用了另一个名为`Syste.Console`的类型。`Syste.Console`是Microsoft已经实现好的一个类型，用于实现这个类型的各个方法的IL代码已经存储在`MSCorLib.dll`文件中。所以，这段代码定义了一个类型，并且使用了由第三方提供的类型。


为了生成这个示例程序，将以上代码放到一个源代码文件中(假定名为`Program.cs`)，然后在命令中执行以下命令: 
##### 托管模块

##### 主要结构

##### 版本控制

##### 部署